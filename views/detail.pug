extends layout

block title
  title 菜谱详情

block content
  div(class="container")
    hr
    div(class="row")
      div(class="col-4")
        div(class="card")
          if typeof result.albums === 'string'
            img(class="card-image-top" src=result.albums style=" background-size: cover")
      div(class="col-8")
        h6
          img(src="/svg/ingredient.svg" alt="/svg/ingredient.svg" style="width: 1.5rem")
          | &nbsp;&nbsp;原料：#{ result.ingredients }
        h6
          img(src="/svg/salt-and-pepper.svg" alt="/svg/salt-and-pepper.svg" style="width: 1.5rem")
          | &nbsp;&nbsp;佐料：#{ result.burden }
        hr
        p #{ result.imtro }
        - for (var i = 0; i < result.tags.length; i++)
          span(class="badge badge-pill badge-info my-1" style="font-size: 1rem") #{ result.tags[i] }
          | &nbsp;
    hr
    div(class="row")
      div(class="col-4")
        div(id="list-example" class="list-group")
          - for (var j = 0; j < result.steps.length; j++)
            a(class="list-group-item list-group-item-action" href=`#list-item-${j}`) #{ result.steps[j].step }
      div(class="col-8")
        div(data-spy="scroll" data-target="#list-example" data-offset="2" style="overflow: auto; position: relative; height: 800px")
          - for (var k = 0; k < result.steps.length; k++)
            h4(id=`list-item-${k}`) #{ result.steps[k].step }
            img(src=result.steps[k].img alt='result.steps[k].img')
            hr
    hr

    - for (var x = 0; x < errors.length; x++)
      div(class="alert alert-danger text-center" role="alert") #{ errors[x] }
    - for (var j = 0; j < infos.length; j++)
      div(class="alert alert-success text-center" role="alert") #{ infos[j] }

